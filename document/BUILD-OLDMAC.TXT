
	   QUASI88 のコンパイル方法  for Mac OS 7,8,9 + MPW

-------------------------------------------------------------------------------

●ここでは Mac OS 7,8,9 環境の人向けに、 QUASI88 を MPW を使ってビルド
  する方法を説明します。

  かなり時代遅れの環境ですので、ビルドできたとしても、処理速度や使い勝
  手などの面で、実用的ではないことを理解した上で、お試しください。

  なお、 Mac OS X 環境の人は 「BUILD-UNIX+MAC.TXT」 を参考にしてください。


●前準備

	1) 予め、MPW をインストールしておいてください。
	   MPW は、アップルが配布しているフリーのコンパイル環境で、
	   以下の URL より入手可能です。(2006/09/10現在)

	        ftp://ftp.apple.com/developer/Tool_Chest/Core_Mac_OS_Tools/MPW_etc./MPW-GM_Images/MPW-GM.img.bin


	2) QUASI88 のソースを、展開してください。
	   ソースファイルの入っている、 src というフォルダおよび、
	   MPW用の作業フォルダ mpw などが展開されます。


●SDLバージョンの QUASI88 のビルド方法

	※ 注意 ※

	SDL ですが、バージョン 1.2.13 を最後にして、 Mac OS 7,8,9 on PPC は
	サポート対象外となったようです。

	2013/01/01現在、SDLのバージョンは 1.2.15 ですが、ソースには MPW 
	のビルド環境が含まれており、自力でビルドすれば、これを使用する
	ことが可能かもしれません。

	ここでは、バージョン 1.2.13 を使用する例を説明します。


	3) SDL の ウェブサイト http://www.libsdl.org/ より、 
	   Development Libraries をダウンロードしておきます。

	   SDL バージョン 1.2.13 の MacOS (Classic) 用は、
	   以下の URL より入手できます。

		http://www.libsdl.org/release/SDL-devel-1.2.13-PPC.sea.bin

	   これを展開すると、 SDL-1.2.13-devel という名前のフォルダが
	   できるので、このフォルダの名前を、 sdl-devel に変更してください。
		       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
	   変更したら、 sdl-devel のフォルダをまるごと、 2) にて展開した
	   フォルダの中にコピーしてください。


	4) mpw フォルダを開きます。ここで、 MPW のプロジェクトファイル 
	   QUASI88.make をダブルクリックすると、 MPW が起動します。

	   メニューから「Build」→「Full Build」(または「Build」)を選択します。
	   ダイアログが表示されて、「Program Name?」と聞いてくるので
	   『QUASI88』と入力します。

	   ビルドが始まり、実行ファイル QUASI88 が生成されます。

	   なお、生成された実行ファイルには、MAME/XMAMEベースのサウンド出力
	   と fmgen が組み込まれています。


	5) QUASI88 の実行には、 SDL のランタイムライブラリが必要です。

	   3) の開発者向けのライブラリの中 ( 例えば、 :SDL-1.2.13-devel:lib:
	   フォルダの中 ) に、SDL というファイルがあるので、これを実行ファイル
	   と同じフォルダに入れておきます。機能拡張フォルダにいれておいても
	   いいようです。

	   また、出来上がった QUASI88 ですが、メモリが足りないらしく、
	   メニューモードに入ると固まったり、強制終了するようです。

	   「情報を見る」(Command-I) にて、QUASI88 のメモリ必要条件を適当に
	   増やしてみてください。


●68kバージョンの QUASI88 のビルド方法

	6) src → snddrv → src の順にフォルダを開いてください。
	   ここに、「sound.h」というファイルがあれば、ファイル名を
	   「sound-alias.h」に変更しておいてください。
	   ( 「sound.h」というファイルがなければ、この手順は不要です )

	7) mpw フォルダを開きます。ここで、 MPW のプロジェクトファイル 
	   QUASI88-68k.make をダブルクリックすると、 MPW が起動します。

	   メニューから「Build」→「Full Build」(または「Build」)を選択します。
	   ダイアログが表示されて、「Program Name?」と聞いてくるので
	   『QUASI88-68k』と入力します。

	   ビルドが始まり、実行ファイル QUASI88-68k が生成されます。

	   なお、生成された実行ファイルには、MAME/XMAMEベースのサウンド出力
	   と fmgen が組み込まれています。

	   また、 QUASI88-68k が強制終了するような場合は、メモリ必要条件
	   を適当に増やしてみてください。


●注意事項

	QUASI88 の改変・再配布などに関しては、もともとの QUASI88 の
	著作権・免責事項に加えて以下を守ってください。

	SDLバージョンの QUASI88 の場合…

		QUASI88 の実行には、ランタイムライブラリ SDL が必要です。
		SDL をセットにして配布する場合は、 SDL に付属の
		README-SDL.txt をいっしょに配布してください。
		(SDLのドキュメントに、そう書いてあるので・・・)
		SDL のライセンスにも従ってください。

	SDLバージョン・68kバージョンともに…

		MAME/XMAMEベースのサウンド出力を組み込んだ場合、
		MAME/XMAME のライセンスに従う必要があります。

		fmgenを組み込んだ場合、
		fmgen のライセンスに従う必要があります。

		実行ファイルと同じフォルダに、以下の空のフォルダを作成して
		おくとベターです。これらのフォルダは、設定のない状態で 
		QUASI88 を実行した時の各種参照フォルダになります。

			ROM   フォルダ
			DISK  フォルダ
			TAPE  フォルダ
			SNAP  フォルダ
			STATE フォルダ
